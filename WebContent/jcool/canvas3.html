<!DOCTYPE html>
<html>
<script>
//Check for the various File API support.
if (window.File && window.FileReader && window.FileList && window.Blob) {
  // Great success! All the File APIs are supported.
} else {
  alert('The File APIs are not fully supported in this browser.');
}
var viewIndex =0;
var maxImage =4;
	function refreshImage(name, src) {
		var c = document.getElementById(name);
		var ctx = c.getContext("2d");
		console.log(src);
		console.log(viewIndex);
		var img = src;
		
		ctx.drawImage(img, 0, 0,ctx.canvas.width, ctx.canvas.height);
	}
	function readSub(index,obj){
		var reader = new FileReader();
		reader.onload = function(e) {
			img = new Image();
			img.src = URL.createObjectURL(obj);
			img.onload = function() {			
				refreshImage("view"+(viewIndex+1), this);
				viewIndex++;
			}
		}	
		reader.readAsDataURL(obj);
	}
	function readURL(input,name) {
		
		if (input.files && input.files[0]) {
			var length = input.files.length  > maxImage ? maxImage: input.files.length;
			for (var i = 0 ; i < length ; i++)
			{				
				readSub(i,input.files[i]);
			}			
		}
	}
	
	      </script>
<style>
.imageViewer {
	float: left;
	border: 1px solid #aaa;
	text-align: center;
	padding: 10px;
	background: #f5f5f5;
}

.imageViewer input {
	margin-bottom: 10px;
}
.imageViewer canvas {
	background: #ddd;
	border: 1px solid #aaa;
}
</style>
<body>
<input type="file" id="inputbox" name="view1" onchange="readURL(this)" multiple="multiple"/> <br />
<div class="container" id="drop_zone">
	<div class="imageViewer">		
		<canvas id="view1" width="250" height="250">
Your browser does not support the HTML5 canvas tag.</canvas>
	</div>
	
	<div class="imageViewer">
		<canvas id="view2" width="250" height="250">
Your browser does not support the HTML5 canvas tag.</canvas>
	</div>
	
	<div class="imageViewer">
		<canvas id="view3" width="250" height="250">
Your browser does not support the HTML5 canvas tag.</canvas>
	</div>
	
	<div class="imageViewer">
		<canvas id="view4" width="250" height="250">
Your browser does not support the HTML5 canvas tag.</canvas>
	</div>
	</div>
</body>
<script>
function handleFileSelect(evt) {
    evt.stopPropagation();
    evt.preventDefault();

    var files = evt.dataTransfer.files; // FileList object.
    readSub(0,files[0]);
  }

  function handleDragOver(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
  }

  // Setup the dnd listeners.
  var dropZone = document.getElementById('drop_zone');
  dropZone.addEventListener('dragover', handleDragOver, false);
  dropZone.addEventListener('drop', handleFileSelect, false);

</script>
</html>

